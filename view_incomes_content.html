<h2>Visualizar Proventos</h2>
<table>
    <thead>
        <tr>
            <th>Valor (R$)</th>
            <th>Tipo de Renda</th>
            <th>Descrição</th>
            <th>Mês</th>
            <th>Ano</th>
            <th>Recorrente</th>
            <th>Ações</th>
        </tr>
    </thead>
    <tbody>
        {% for income in incomes %}
        <tr>
            <td>{{ income[0] }}</td>
            <td>{{ income[1] }}</td>
            <td>{{ income[2] }}</td>
            <td>{{ income[3] }}</td>
            <td>{{ income[4] }}</td>
            <td>{{ 'Sim' if income[5] else 'Não' }}</td>
            <td>
                <button class="edit-btn" data-id="{{ income[6] }}">Editar</button>
                <button class="delete-btn" data-id="{{ income[6] }}">Excluir</button>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<!-- Modal para edição -->
<div id="edit-income-modal" class="modal">
    <div class="modal-content">
        <span class="close-btn">&times;</span>
        <h2>Editar Provento</h2>
        <form id="edit-income-form" action="/edit_income" method="POST">
            <input type="hidden" id="edit-income-id" name="id">
            <div class="form-group">
                <label for="edit-amount">Valor (R$)</label>
                <input type="number" id="edit-amount" name="amount" step="0.01" required>
            </div>
            <div class="form-group">
                <label for="edit-income_type">Tipo de Renda</label>
                <select id="edit-income_type" name="income_type" required>
                    <option value="Salário">Salário</option>
                    <option value="Renda Extra">Renda Extra</option>
                    <option value="Bônus">Bônus</option>
                    <option value="Investimento">Investimento</option>
                    <option value="Freelance">Freelance</option>
                </select>
            </div>
            <div class="form-group">
                <label for="edit-description">Descrição</label>
                <textarea id="edit-description" name="description" required></textarea>
            </div>
            <div class="form-group">
                <label for="edit-month">Mês</label>
                <select id="edit-month" name="month" required>
                    <option value="01">Janeiro</option>
                    <option value="02">Fevereiro</option>
                    <option value="03">Março</option>
                    <option value="04">Abril</option>
                    <option value="05">Maio</option>
                    <option value="06">Junho</option>
                    <option value="07">Julho</option>
                    <option value="08">Agosto</option>
                    <option value="09">Setembro</option>
                    <option value="10">Outubro</option>
                    <option value="11">Novembro</option>
                    <option value="12">Dezembro</option>
                </select>
            </div>
            <div class="form-group">
                <label for="edit-year">Ano</label>
                <input type="number" id="edit-year" name="year" min="2000" max="2100" required>
            </div>
            <div class="form-group">
                <label for="edit-recurring">Recorrente</label>
                <input type="checkbox" id="edit-recurring" name="recurring">
            </div>
            <button type="submit">Salvar Alterações</button>
        </form>
    </div>
</div>
