<h2>Visualizar Despesas</h2>
<table>
    <thead>
        <tr>
            <th>Descrição</th>
            <th>Categoria</th>
            <th>Valor Total</th>
            <th>Parcelas</th>
            <th>Parcelas Pagas</th>
            <th>Data de Início</th>
            <th>Recorrente</th>
            <th>Observações</th>
            <th>Método de Pagamento</th>
            <th>Ações</th>
        </tr>
    </thead>
    <tbody>
        {% for expense in expenses %}
        <tr>
            <td>{{ expense[0] }}</td>
            <td>{{ expense[1] }}</td>
            <td>{{ expense[2] }}</td>
            <td>{{ expense[3] }}</td>
            <td>{{ expense[4] }}</td>
            <td>{{ expense[5] }}</td>
            <td>{{ 'Sim' if expense[6] else 'Não' }}</td>
            <td>{{ expense[7] }}</td>
            <td>{{ expense[8] }}</td>
            <td>
                <button class="edit-btn" data-id="{{ expense[9] }}">Editar</button>
                <button class="delete-btn" data-id="{{ expense[9] }}">Excluir</button>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<!-- Modal para edição -->
<div id="edit-modal" class="modal">
    <div class="modal-content">
        <span class="close-btn">&times;</span>
        <h2>Editar Despesa</h2>
        <form id="edit-expense-form" action="/edit_expense" method="POST">
            <input type="hidden" id="edit-expense-id" name="id">
            <div class="form-group">
                <label for="edit-descricao">Descrição</label>
                <input type="text" id="edit-descricao" name="descricao" required>
            </div>
            <div class="form-group">
                <label for="edit-categoria">Categoria</label>
                <input type="text" id="edit-categoria" name="categoria" required>
            </div>
            <div class="form-group">
                <label for="edit-valor_total">Valor Total</label>
                <input type="number" id="edit-valor_total" name="valor_total" step="0.01" required>
            </div>
            <div class="form-group">
                <label for="edit-parcelas">Parcelas</label>
                <input type="number" id="edit-parcelas" name="parcelas" required>
            </div>
            <div class="form-group">
                <label for="edit-parcelas_pagas">Parcelas Pagas</label>
                <input type="number" id="edit-parcelas_pagas" name="parcelas_pagas" required>
            </div>
            <div class="form-group">
                <label for="edit-data_inicio">Data de Início</label>
                <input type="date" id="edit-data_inicio" name="data_inicio" required>
            </div>
            <div class="form-group">
                <label for="edit-recorrente">Recorrente</label>
                <input type="checkbox" id="edit-recorrente" name="recorrente">
            </div>
            <div class="form-group">
                <label for="edit-observacoes">Observações</label>
                <textarea id="edit-observacoes" name="observacoes" required></textarea>
            </div>
            <div class="form-group">
                <label for="edit-metodo_pagamento">Método de Pagamento</label>
                <input type="text" id="edit-metodo_pagamento" name="metodo_pagamento" required>
            </div>
            <button type="submit">Salvar Alterações</button>
        </form>
    </div>
</div>
